<ion-header>
  <ion-toolbar>
    <ion-title size="large">Inicio</ion-title>
    <ion-buttons slot="end">
      <ion-button>
        <ion-icon name="notifications-outline"></ion-icon>
      </ion-button>
      <ion-button>
        <ion-icon name="chatbubbles-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="cards-container">
    <ion-card *ngFor="let post of posts">
      <div class="avatar-header">
        <ion-avatar>
          <img alt="Silhouette of a person's head" src="https://ionicframework.com/docs/img/demos/avatar.svg" />
        </ion-avatar>
        <div class="header-text">
          <ion-card-subtitle *ngIf="users[post.userId]">{{
            users[post.userId].nombre
            }}</ion-card-subtitle>
          <ion-card-title>{{ post.titulo }}</ion-card-title>
          <ion-card-subtitle>{{ post.detalles }}</ion-card-subtitle>
        </div>
        <ion-button *ngIf="isPostOwner(post.id)" (click)="presentActionSheet(post.id)">
          <ion-icon inert aria-hidden="true" name="ellipsis-vertical-outline"></ion-icon>
        </ion-button>
      </div>
      <div class="image-container">
        <ion-img [src]="post.imageUrl"></ion-img>
      </div>
      <ion-card-content>{{ post.contenido }}</ion-card-content>
      <div class="button-group">
        <ion-button class="reaction-button">
          <ion-icon name="thumbs-up-outline"></ion-icon>
          Me gusta
        </ion-button>
        <ion-button class="reaction-button">
          <ion-icon name="chatbubble-outline"></ion-icon>
          Comentar
        </ion-button>
        <ion-button (click)="share()" class="reaction-button">
          <ion-icon name="share-social-outline"></ion-icon>
          Compartir
        </ion-button>
      </div>
    </ion-card>
  </div>

  <ion-action-sheet trigger="open-action-sheet" header="Acciones" [buttons]="actionSheetButtons"></ion-action-sheet>
  <ion-fab slot="fixed" vertical="bottom" horizontal="end">
    <ion-fab-button (click)="openModal()">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>